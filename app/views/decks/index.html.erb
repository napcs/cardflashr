
<h1>My Decks</h1>

<%= link_to 'New Deck', new_deck_path, {class: "button primary" } %>

<% if @decks.any? %>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th> Cards</th>
        <th>Last updated</th>
        <th colspan="3"></th>
      </tr>
    </thead>

    <tbody>
      <% @decks.each do |deck| %>
        <tr>
          <td data-label="Deck name"><%= link_to deck.name, deck %></td>
          <td data-label="Cards"><%= deck.cards.count %></td>
          <td data-label="Updated at"><%= time_ago_in_words deck.updated_at %> ago</td>
          <td data-label="Actions">
            <%= link_to 'Play', player_path(deck), {class: "button primary"} %>
            <%= link_to 'Edit', edit_deck_path(deck), {class: "button secondary"} %>
            <%= link_to 'Delete', deck, method: :delete, data: { confirm: "Are you sure you want to remove this deck and all #{deck.cards.count} cards?" }, class: "button tertiary" %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>

<% else %>

  <p>You don't have any decks. You should create one.</p>
<% end %>
